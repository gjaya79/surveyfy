<% include ../partials/header %>




<div class="container">
<div class="row">
<div id="TypeChosing" class="col-sm-6 mx-auto">      
    <div class="card card-body">
      <div id="Multiple_Choice_Group"> 
        <h4 class="text-left">Multiple Choice</h4>
          <button id="btnSingle" type="button" onclick="displayRadiobox()" class="btn btn-primary mb1 bg-teal" name="1">Single Select</button>
          <button id="btnMult" type="button" onclick="displayCheckbox()" class="btn btn-primary mb1 bg-teal" name=="2">Multiple Select</button>
        </div>
      
        <br></br>
        
      <div id="Textbox_Group">
        <h4 class="text-left">Open Text Field Choice</h4>
        <button id="btnTxtBox" type="button" onclick="displayTextbox()" class="btn btn-primary mb1 bg-teal" name=="3" >Textbox</button>
        <button id="btnMultTxt" type="button" onclick="displayMultLineTextbox()" class="btn btn-primary mb1 bg-teal">Mult Lines of Textboxes</button>
        <button id="btnTxtList" type="button" onclick="displayLineListTextbox()" class="btn btn-primary mb1 bg-teal"> List of Textboxes</button>
      </div>
      <br></br>
      
      <div id="Rating_Group">
        <h4 class="text-left">Rating & Ranks</h4>
         <button id="btnRateScale" type="button" onclick="displayRatingScale()" class="btn btn-primary mb1 bg-teal">Rating Scale</button>
         <button id="btnRateSilder" type="button" onclick="displaySilder()" class="btn btn-primary mb1 bg-teal">Rating Silder</button>
      </div>
      <br></br>
      
      <body>
      <div id="Preview_Radio">
        <h5 class="text-left">Single Select</h5>
        Single Select can let user to choose only one answer which already provided by the survey.
        <br></br>
        <p>
          <input type="radio" id="test1" name="radio-group" checked>
          <label for="test1">Apple</label>
        </p>
        <p>
          <input type="radio" id="test2" name="radio-group">
          <label for="test2">Peach</label>
        </p>
        <p>
          <input type="radio" id="test3" name="radio-group">
          <label for="test3">Orange</label>
        </p>
      <br></br>
      </div>
      
      <div id="Preview_Checkbox" style="display: none;">
        <h5 class="text-left">Multiple Select</h5>
        Multiple Selection questions are similar to Multiple Choice questions. However, questions can have more than one correct answer. You can create as many choices as necessary. 
        <p>
          <input type="checkbox" id="testCheck1" name="checbox_group-group" checked>
          <label>Apple</label>
        </p>
        <p>
          <input type="checkbox" id="testCheck2" name="checbox_group-group" checked>
          <label>Peach</label>
        </p>
        <p>
          <input type="checkbox" id="testCheck3" name="checbox_group-group">
          <label>Orange</label>
        </p>
        <br></br>
         
      </div>
      
      <div id="Preview_SingleLineText" style="display: none;">
        <h5 class="text-left">Single line text</h5>
        A Text Field provided for user to enter with only single line of words.
        <input type="text" value="" >
        </textarea>
      </div>
       
      <div id="Preview_MultLineTxt" style="display: none;">
        <h5 class="text-left">Multiple Line of text</h5>
        A Text Field provided for user to enter with multple lines of words.
        <textarea rows="4" cols="50"></textarea>
      </div>
      
      <div id="Preview_LineList" style="display: none;">
        <h5 class="text-left">List of textboxs</h5>
        A list of textboxs which can let users to enter multiple lines of words.
        <input type="text" value="" >
        <input type="text" value="" >
        <input type="text" value="" >
      </div>
      
      <div id="Preview_RatingScale" style="display: none;">
        <h5 class="text-left">Rating Scale</h5>
        Choosing one of the block provided.
        <div class="rating">
          <span><input type="radio" name="rating" id="str5" value="5"><label for="str5">Excellent</label></span>
          <span><input type="radio" name="rating" id="str4" value="4"><label for="str4">Good</label></span>
          <span><input type="radio" name="rating" id="str3" value="3"><label for="str3">Fair</label></span>
          <span><input type="radio" name="rating" id="str2" value="2"><label for="str2">Poor</label></span>
          <span><input type="radio" name="rating" id="str1" value="1"><label for="str1">Bad</label></span>
        </div>
      </div>
      
      <div id="Preview_Silder" style="display: none;">
        <h5 class="text-left">Silder</h5>
        Draging the button to rate one stuff.
        <input type="range" min="1" max="100" value="50">
      </div>
      
      </body>
      
      </div>  
    </div>

  

  <div class="col-md-6 mx-auto">
    <div class="card card-body">
      <h3 class="text-left text-uppercase">Edit Question</h3>
      <br></br>
      <form action="/surveys/<%= survey_id %>/questions/<%= question._id %>?_method=PUT" method="post">
        <div class="form-group">
          <label for="name">Question Title</label>
          <input type="text" class="form-control" name="question[text]" value="<%= question.text %>" required>
        </div>
        
        <div class="form-group">
          <label for="name">Instructions</label>
          <input type="text" class="form-control" name="question[instruction]" value="<%= question.instruction %>">
        </div>
        
        <div class="form-group">
            <label for="groupQuestion">Group Question</label>
            <select class="form-control" id="groupQuestion" name="question[groupQuestion]">
              <option>G1</option>
              <option>G2</option>
              <option>G3</option>
              <option>G4</option>
              <option>G5</option>
              <option>G6</option>
              <option>G7</option>
              <option>G8</option>
              <option>G9</option>
              <option>G10</option>
            </select>
        </div>
        <label>The Current Grouping value is: <b><%= question.groupQuestion %></b></label>
        
        <br></br>
        <br></br>
        
        <!--Display options with array number for editing-->
        <p>Options: </p>
        <div class="form-group" id="options_group">
        <% question.options.forEach(function(options) { %>
          <label for="Newoption">Answer <%= question.options.indexOf(options) + 1%> </label>
          <input type="text" class="form-control" name="question[options][<%=question.options.indexOf(options)%>][content]" value="<%=options.content %>">
          <script>addCounter();</script>
        <% }) %>
        </div>
        
        <input type="number" class="form-control" id="typeInput" value="1" name="question[types]" style="display: none;">
        
        <button type="submit" class="btn btn-primary float-right">Edit Question</button>
        
        <a class="btn btn-secondary float-left" href="/surveys/<%= survey_id %>">Go Back</a>
      </form>
    </div>
  </div>
</div>
</div>

<script>
  var optionCounter = 0;
  
  var checkbox = document.getElementById("multiple_select");
  var radiobox = document.getElementById("single_select");
  var checkboxGroup = document.getElementById("checbox_group");
  var radioboxGroup = document.getElementById("radio_group");
  
  var radioboxPreview = document.getElementById("Preview_Radio");
  var checkboxPreview = document.getElementById("Preview_Checkbox");
  var singleLinePreview = document.getElementById("Preview_SingleLineText");
  var multLinePreview = document.getElementById("Preview_MultLineTxt");
  var lineListPreview = document.getElementById("Preview_LineList");
  var ratingScalePreview = document.getElementById("Preview_RatingScale");
  var sliderPreview = document.getElementById("Preview_Silder");
  
  function addCounter(){
    optionCounter++;
  }
  
  function setNameForBlock(){
    var d = document.getElementByClass("option1"); 
    d.setAttribute("data-main", countrycod);
  }
  
  
  
   function displayRadiobox(){
    
    //control of other boxes and buttons
    radioboxPreview.style.display = "block";
    checkboxPreview.style.display = "none";
    singleLinePreview.style.display = "none";
    multLinePreview.style.display = "none";
    lineListPreview.style.display = "none";
    ratingScalePreview.style.display = "none";
    sliderPreview.style.display = "none";
    
    document.getElementById("typeInput").value = 1;
  }

  function displayCheckbox(){
    radioboxPreview.style.display = "none";
    checkboxPreview.style.display = "block";
    singleLinePreview.style.display = "none";
    multLinePreview.style.display = "none";
    lineListPreview.style.display = "none";
    ratingScalePreview.style.display = "none";
    sliderPreview.style.display = "none";
    
    document.getElementById("typeInput").value = 2;
  }
  
   function displayTextbox(){
    
    radioboxPreview.style.display = "none";
    checkboxPreview.style.display = "none";
    singleLinePreview.style.display = "block";
    multLinePreview.style.display = "none";
    lineListPreview.style.display = "none";
    ratingScalePreview.style.display = "none";
    sliderPreview.style.display = "none";
    
    document.getElementById("typeInput").value = 3;
   }
   
   function displayMultLineTextbox(){
     
    radioboxPreview.style.display = "none";
    checkboxPreview.style.display = "none";
    singleLinePreview.style.display = "none";
    multLinePreview.style.display = "block";
    lineListPreview.style.display = "none";
    ratingScalePreview.style.display = "none";
    sliderPreview.style.display = "none";
    
    document.getElementById("typeInput").value = 4;
   }
   
   function displayLineListTextbox(){
    radioboxPreview.style.display = "none";
    checkboxPreview.style.display = "none";
    singleLinePreview.style.display = "none";
    multLinePreview.style.display = "none";
    lineListPreview.style.display = "block";
    ratingScalePreview.style.display = "none";
    sliderPreview.style.display = "none";
    
    document.getElementById("typeInput").value = 5;
   }
   
   function displayRatingScale(){
    radioboxPreview.style.display = "none";
    checkboxPreview.style.display = "none";
    singleLinePreview.style.display = "none";
    multLinePreview.style.display = "none";
    lineListPreview.style.display = "none";
    ratingScalePreview.style.display = "block";
    sliderPreview.style.display = "none";
    
    document.getElementById("typeInput").value = 6;
   }
   
   function displaySilder(){
    radioboxPreview.style.display = "none";
    checkboxPreview.style.display = "none";
    singleLinePreview.style.display = "none";
    multLinePreview.style.display = "none";
    lineListPreview.style.display = "none";
    ratingScalePreview.style.display = "none";
    sliderPreview.style.display = "block";
    
    document.getElementById("typeInput").value = 7;
   }
   
  function addNewInputRadioText(){
    // val = optionRadioHTML;
    // radio_group.append(val);
    var div = document.createElement('divNewRadio');
    
    div.classname = 'newRadio';
    
    div.innerHTML =  '<div class="form-group">'+
                    '<label for="option1">New Answer</label>'+
                    '<input type="text" class="form-control" name="option">'+
                    ' <input type="button" value="remove" onclick="removeNewRadio(this)">'
                    '</div>';
    
    radioboxGroup.appendChild(div);
  }
  
  function removeNewRadio(input){
    radioboxGroup.removeChild(input.parentNode.parentNode);
  }
  
  function removeElement() {
    var element = document.getElementById("myDIV");
    element.classList.remove("mystyle");
}
   
  // function removeNewCheckbox(input){
  //   checbox_group.removeChild(input.parentNode.parentNode);
  // }
    
</script>


<% include ../partials/footer %>